{{ define "title"}}<title>ğŸ“¬ä¸ªäººè§’è½ - {{.siteName}}</title>{{ end }}

{{define "content"}}


    {{if .msg}}
        <div class="fw-bold my-4">ä¸å­˜åœ¨è¿™ä¸ªç”¨æˆ·</div>
        {{.msg}}
    {{else}}
        {{if and (eq .user.Status "Wait") ($.userinfo) (eq $.userinfo.Username .user.Username)}}
            <div class="dark:text-black" style="background-color: #ffd5d5;padding:5px 10px;border-radius: 3px;font-size: smaller;">æœªæ¿€æ´»ç”¨æˆ·ï¼Œè¯·å…ˆå»é‚®ç®±æ¿€æ´»è´¦æˆ·ï¼<a href="/activate?id={{$.userinfo.ID}}">ã€ç‚¹å‡»å‘é€æ¿€æ´»é‚®ä»¶ã€‘</a></div>
        {{end}}

        <div class="flex flex-col gap2 dark:text-white/70">
            <br>
            <div class="flex flex-row gap-8 items-center text-sm" style="line-height: 2em">
                <div>
                    <img src="{{.user.Avatar}}" class="rounded w-20 h-20" alt="{{.user.Username}}" referrerpolicy="no-referrer" rel="noopener" onerror="this.onerror=null; this.src='/static/imgerr.png'"/>
                </div>
                <div>
                    <p class="font-bold text-lg">{{.user.Username}}</p>
                    <p class="text-md">{{.user.Bio}}</p>
                    <p class="text-sm text-gray">ç¬¬ {{.user.ID}} å·ä¼šå‘˜, {{.user.CreatedAt.Format "2006-01-02"}} {{if .invitedUsername }} åœ¨ <a
                            href="/u/profile/{{.inviteUserId}}" class="aLink">{{.invitedUsername}}</a> çš„ç››æƒ…é‚€è¯·ä¸‹{{end}}åŠ å…¥{{.siteName}}.</p>
                </div>
            </div>
            <br>

            <div class="flex flex-row gap-8 items-center text-sm">
                <div class="font-bold">ä¿¡ä»»çº§åˆ«</div>
                <div>{{if eq .user.Role "admin"}}{{.user.Role}}{{else}}LV.{{.user.Role}}{{end}}</div>
            </div>

            <div class="flex flex-row gap-8 items-center text-sm">
                <div class="font-bold ">è´¦å·çŠ¶æ€</div>
                <div>{{.user.Status}}</div>
            </div>

            <div class="flex flex-row gap-8 items-center text-sm">
                <div class="font-bold">æäº¤ä¸»é¢˜</div>
                <div><a href="/u/profile/{{.user.ID}}/links" class="aLink">{{.user.PostCount}}</a></div>
            </div>

            <div class="flex flex-row gap-8 items-center text-sm">
                <div class="font-bold">å‘è¡¨è¯„è®º</div>
                <div><a href="/u/profile/{{.user.ID}}/comments" class="aLink">{{.user.CommentCount}}</a></div>
            </div>

            <div class="flex flex-row gap-8 items-center text-sm">
                <div class="font-bold">ç«¹ç¬‹æ•°é‡</div>
                <div>{{.user.Points}}</div>
            </div>

            {{ if $.userinfo}}
                {{if eq $.userinfo.ID .user.ID }}
                    <div class="flex flex-row gap-8 items-center text-sm">
                        <div class="font-bold ">æ³¨å†Œé‚®ç®±</div>
                        <div>{{.user.Email}}</div>
                    </div>
                    <div class="flex flex-row gap-8 items-center text-sm">
                        <div class="font-bold">æˆ‘çš„é‚€è¯·</div>
                        <a href="/u/invite" class="aLink">é‚€è¯·ç åˆ—è¡¨</a>
                    </div>
                    <div class="flex flex-row gap-8 items-center text-sm">
                        <div class="font-bold">å…¶ä»–åŠŸèƒ½</div>
                        <a href="/u/profile/{{.user.ID }}/edit" class="btn">ç”¨æˆ·è®¾ç½®</a>
                        <a class="dark:text-white/70 underline" href="/u/logout" data-no-instant>é€€å‡ºç™»å½•</a>
                    </div>
                    <div class="flex flex-row gap-8 items-center text-sm">
                        <div class="font-bold">ä¸‰æ–¹è´¦å·</div>
                        {{if $.user.GoogleId}}
                            <a class="dark:text-white/70 underline" href="https://myaccount.google.com/" target="_blank" title="ç‚¹å‡»è¿›å…¥googleè´¦å·ä¸­å¿ƒ">å·²ç»‘å®š Google è´¦å·</a>
                        {{else}}
                            <div class="g_id_signin"
                                 data-type="standard"
                                 data-shape="rectangular"
                                 data-theme="outline"
                                 data-text="signin"
                                 data-size="medium"
                                 data-logo_alignment="left"
                                 style="max-width:200px">
                            </div>
                        {{end}}
                    </div>
                {{end}}
            {{end}}
        </div>
        <br>
        <div class="flex gap-2 my-4  text-sm fw-bold dark:text-white/70" style="border-bottom: 1px solid #eee">
            <a class="{{if eq .sub "link"}}border-b border-b-[#5468ff] border-b-solid border-b-2 {{end}} cursor-pointer hover:text-gray"
               href="/u/profile/{{.user.ID}}/links">åˆ†äº«</a>
            <a class="{{if eq .sub "ask"}}border-b border-b-[#5468ff] border-b-solid border-b-2{{end}} cursor-pointer hover:text-gray"
               href="/u/profile/{{.user.ID}}/asks">è®¨è®º</a>
            <a class="{{if eq .sub "comments"}}border-b border-b-[#5468ff] border-b-solid border-b-2{{end}} cursor-pointer hover:text-gray"
               href="/u/profile/{{.user.ID}}/comments">è¯„è®º</a>
            <a class="{{if eq .sub "collects"}}border-b border-b-[#5468ff] border-b-solid border-b-2{{end}} cursor-pointer hover:text-gray"
               href="/u/profile/{{.user.ID}}/collects">æ”¶è—</a>
        </div>
        {{template "post" .}}
        {{if .comments}}
            {{range .comments}}
                {{template "comment" dict "Comment" . "Login" false}}
            {{end}}
        {{end}}
        <div class="flex flex-row gap2 items-center text-gray text-xs mt-4">
            {{ if .hasPrev}}
                <a href="?p={{sub .currentPage 1}}" class="hover:text-hover"><< ä¸Šä¸€é¡µ</a>
            {{end}}
            {{ if .hasNext}}
                <a href="?p={{add .currentPage 1}}" class="hover:text-hover">ä¸‹ä¸€é¡µ>></a>
            {{end}}
        </div>
    {{end}}
{{end}}
{{ define "afterBody"}}{{end}}